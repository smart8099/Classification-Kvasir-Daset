seed: 42
img_size: 256
batch_size: 16
epochs: 20
lr: 1.0e-4
weight_decay: 1.0e-4
num_workers: 4

task_type: multilabel
multilabel:
  threshold: 0.5
  # Smooth and cap class weights to avoid extreme gradients on very rare labels.
  pos_weight_power: 0.75
  pos_weight_min: 1.0
  pos_weight_max: 8.0

imbalance:
  sampler:
    enabled: true
    replacement: true
    # >1.0 oversamples minority classes more aggressively.
    exponent: 1.0

early_stopping:
  patience: 5
  min_delta: 0.001

scheduler:
  name: reduce_on_plateau
  factor: 0.5
  patience: 2
  min_lr: 1.0e-6

augmentation:
  hflip: true
  vflip: false
  rotation_deg: 10
  color_jitter:
    brightness: 0.1
    contrast: 0.1
    saturation: 0.0
    hue: 0.0

normalization:
  enabled: true
  stats_path:

# For multilabel mode, splits are read from output_dir/splits/*.json generated by
# scripts/prepare_synapse_classification.py with --output-format multilabel
data_root: "./data/synapse_classification_all_organs"
output_dir: "./outputs_synapse_all_organs_multilabel"

split:
  train: 0.8
  val: 0.2
  test: 0.0
